# План решения проблем

1. **Исправить название переменной окружения для WebSocket.**
   - Обновить `frontend/.env.example`, заменив `VITE_WS_URL` на `VITE_SOCKET_URL`.
   - Проверить документы и примеры настройки, чтобы везде использовалось одно имя.
   - После изменения убедиться, что переменная попадает в сборку и клиент подключается к верному адресу.

2. **Установить зависимости и убедиться в прохождении тестов.**
   - Выполнить `npm run install:all` для установки пакетов фронтенда и бэкенда.
   - Запустить `npm run test` и убедиться, что все тесты проходят. Если появляются ошибки, корректировать тестовые сценарии или код.

3. **Проверить наличие ключа OpenAI.**
   - Убедиться, что в файле `.env` в корне или в `backend/.env` задан `OPENAI_API_KEY`.
   - Если ключа нет, запросить его и добавить. Без этого LLM, ASR и TTS работать не будут.

4. **Решить вопрос получения историй.**
   - Если планируется хранить истории на сервере, обновить фронтенд, чтобы он запрашивал их через `/api/stories`.
   - Если локальный JSON остаётся источником данных, можно удалить лишние эндпоинты или указать в документации, что истории берутся локально.

5. **Использовать `VITE_API_BASE_URL` при обращении к REST‑эндпоинтам.**
   - Заменить в сервисах относительные пути вида `/api/...` на `${import.meta.env.VITE_API_BASE_URL}/api/...` или настроить переменную базового URL в одном месте.
   - Это позволит разнести фронтенд и бэкенд по разным доменам при продакшен‑деплое.
