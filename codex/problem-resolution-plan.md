# План решения проблем

1. **Унифицировать переменные окружения**
   - Принять одно название переменной для URL сокета (например, `VITE_SOCKET_URL`).
   - Исправить `.env.example`, README и другие документы.
   - В коде оставить только одно обращение к этой переменной.

2. **Подключить загрузку историй через бэкенд**
   - Изменить `StoryService` на фронте: вместо локального JSON выполнять запрос `GET /api/stories`.
   - Это позволит хранить и расширять истории на сервере.

3. **Проверка конфигурации при старте приложения**
   - Добавить в `backend/src/index.ts` вывод предупреждений, если нет `OPENAI_API_KEY` или других обязательных переменных.
   - Возможна загрузка приложения в "ограниченном режиме" без ИИ, чтобы оно не падало полностью.

4. **Упростить установку и запуск**
   - В репозиторий можно добавить раздел с описанием офлайн-установки или подготовить скрипт для скачивания зависимостей заранее.
   - При невозможности подключиться к npm выводить понятное сообщение.

5. **Дополнить реализацию настроек аудио**
   - Завершить TODO в `ChatInterface`: использовать `audioSettings` для настройки `VoiceInput` и других компонентов.

6. **Сократить дублирование настроек**
   - Вынести общие параметры (порты, пути, интервалы) в отдельный конфигурационный файл или модуль.
   - Подключать его из скриптов и документации, чтобы изменения в одном месте автоматически подтягивались в остальные.

7. **Проверить тесты и документацию**
   - После исправлений запустить `npm run test` и `npm run test:e2e`.
   - Убедиться, что новые настройки окружения описаны в README и `ENV_SETUP.md`.
